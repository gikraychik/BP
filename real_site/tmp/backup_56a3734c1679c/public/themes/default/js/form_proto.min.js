function Form(a){this.formId=a;this.$form=$(this.formId);this.resultContainerId=this.formId+" #result";this.$resultContainer=this.$form.find("#result");this.afterSubmitFunctions=[];this.beforeSubmitFunctions=[];this.initFormHandlers()}Form.prototype.reinit=function(a){this.constructor(this.formId)};Form.prototype.initFormHandlers=function(){$(document).on("submit",this.formId,function(a){this.callBeforeSubmitFunctions();$.pjax.submit(a,this.resultContainerId,{push:false,scrollTo:false,timeout:10000,from:"form"})}.bind(this))};Form.prototype.afterSubmit=function(){this.$resultContainer=$(this.resultContainerId);if(this.$resultContainer.find("#success").length>0){this.$resultContainer.css({"background-color":"green",right:"-10px",display:"block"}).delay(700).fadeOut(function(){this.callAfterSubmitFunctions();this.$form.trigger("reset")}.bind(this))}else{this.$resultContainer.css({"background-color":"#de4040"});if(this.$resultContainer.find("#error").length>0&&$(this.resultContainerId+":hidden").length>0){this.$resultContainer.fadeIn(200)}else{this.$resultContainer.animate({marginTop:"-=10",bottom:"+=10"},100,function(){$(this).animate({marginTop:"+=10",bottom:"-=10"},100)})}if(isMobile()){$("html, body").animate({scrollTop:this.$resultContainer.offset().top},500)}}};Form.prototype.callAfterSubmitFunctions=function(){for(var a=this.afterSubmitFunctions.length-1;a>=0;a--){this.afterSubmitFunctions[a]()}};Form.prototype.callBeforeSubmitFunctions=function(){for(var a=this.beforeSubmitFunctions.length-1;a>=0;a--){this.beforeSubmitFunctions[a]()}};Form.prototype.initDateFields=function(){if(isMobile()){$("#date-field").attr("id","")}else{$("#date-field").attr("type","text");$("#date-field").datetimepicker({lang:"ru",timepicker:false,format:"d.m.Y"})}};Form.prototype.initTimeFields=function(){if(isMobile()){$("#time-field").attr("id","")}else{$("#time-field").attr("type","text");$("#time-field").datetimepicker({lang:"ru",datepicker:false,format:"H:i"})}};