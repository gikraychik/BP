function PopupWindow(b,c,a){this.popupId=b;this.openButtonId=c;this.$popup=$(this.popupId);this.$popupWindow=this.$popup.find(".popup-window");this.$openButtonElem=$(this.openButtonId);if(typeof a!=="undefined"){this.pageId=a}else{this.pageId="document"}this.functionsOnShow=[];this.functionsOnHide=[]}PopupWindow.prototype.init=function(){$(document).on("click",this.openButtonId,function(){this.open();this.callFunctionsOnShow()}.bind(this));$(document).on("click",this.popupId+" #close",function(){this.close();this.callFunctionsOnHide()}.bind(this));$(document).keyup(function(a){if(a.which==27){this.close();this.callFunctionsOnHide()}}.bind(this))};PopupWindow.prototype.callFunctionsOnShow=function(){for(var a=this.functionsOnShow.length-1;a>=0;a--){this.functionsOnShow[a]()}};PopupWindow.prototype.callFunctionsOnHide=function(){for(var a=this.functionsOnHide.length-1;a>=0;a--){this.functionsOnHide[a]()}};PopupWindow.prototype.open=function(){$(this.pageId).find(this.popupId).fadeIn(200);if(this.$popupWindow.css("position")=="absolute"){$("html, body").animate({scrollTop:this.$popupWindow.offset().top},500)}};PopupWindow.prototype.close=function(){$(this.pageId).find(this.popupId).fadeOut(200)};